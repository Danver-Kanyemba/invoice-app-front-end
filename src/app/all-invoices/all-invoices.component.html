<div class="example-table-container">
<button mat-button >Print</button>
<table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)"
       class="mat-elevation-z8 demo-table">


  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">
      Name
    </th>
    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="phone_Number">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by weight">
      Phone Number
    </th>
    <td mat-cell *matCellDef="let element"> {{element.phone_Number}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="Total">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by symbol">
      Total
    </th>
    <td mat-cell *matCellDef="let element"> {{element.Total}} </td>
  </ng-container>
  <!-- Position Column -->
  <ng-container matColumnDef="created_at">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by number">
      created at
    </th>
    <td mat-cell *matCellDef="let element"> {{element.created_at}} </td>
  </ng-container>

  <ng-container matColumnDef="_id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">
      id
    </th>
    <td mat-cell *matCellDef="let element"> {{element._id}} </td>
  </ng-container>

  <ng-container matColumnDef="myFormArray">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">
      myFormArray
    </th>
    <td mat-cell *matCellDef="let element"> {{element.myFormArray}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="clickedRows.clear();clickedRows.add(row)"></tr>
</table>
</div>

<!-- <mat-list>
  <mat-list-item *ngFor="let item of data">
    <mat-divider></mat-divider>
    <hr/>
    <span matListItemTitle>Name: {{ item.data.name }}</span>
    <span matListItemLine>Phone Number: {{ item.data.phone_Number }}</span>
    <span matListItemLine>Total:{{ item.data?.Total }}</span>
  </mat-list-item>

</mat-list> -->

<!-- <div *ngFor="let item of data"> -->
  <!-- Display values from the JSON array -->
  <!-- <p>ID: {{ item._id }}</p> -->

  <!-- Accessing nested values -->
  <!-- <p>Key 1: {{ item.key1 }}</p> -->
  <!-- <p>Input 1: {{ item.data.myFormArray[0].input1 }}</p> -->
  <!-- <p>Name: {{ item.data.name }}</p> -->
  <!-- <p>Phone Number: {{ item.data.phone_Number }}</p> -->
  <!-- <p>Total:{{ item.data?.Total }}</p> -->
  <!-- <p>Selected Option: {{ item.data.myFormArray[0].selectedOption }}</p> -->

  <!-- Add more fields as needed -->
<!-- </div> -->


<mat-divider></mat-divider>
<mat-tab-group animationDuration="0ms" mat-stretch-tabs="false">
  <mat-tab label="Products">

      <ng-container *ngIf="!clickedRows.size; else clickedRowsContent">
        <div>Clicked rows will be logged here</div>
      </ng-container>

      <ng-template #clickedRowsContent>
        <ul>
          <div *ngFor="let clickedRow of clickedRows">
            <mat-list-item *ngFor="let clickedRow2 of clickedRow.myFormArray">
              Name: {{ clickedRow2.selectedOption }}
              <br>
              Total: {{ clickedRow2.input1 }}
              <br>
              QTY: {{ clickedRow2.input2 }}
              <mat-divider></mat-divider>
          </mat-list-item>

          </div>
        </ul>
      </ng-template>
  </mat-tab>
</mat-tab-group>
